!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){(function(){var b;b=a("quoter"),new b.Clients.Chrome.Content}).call(this)},{quoter:2}],2:[function(a,b){(function(){var c;c=function(){function b(){}return b.Clients=a("./quoter/clients"),b}(),b.exports=c}).call(this)},{"./quoter/clients":3}],3:[function(a,b){(function(){var c;c=function(){function b(){}return b.Chrome=a("./clients/chrome"),b}(),b.exports=c}).call(this)},{"./clients/chrome":4}],4:[function(a,b){(function(){var c;c=function(){function b(){}return b.Background=a("./chrome/background"),b.Content=a("./chrome/content"),b}(),b.exports=c}).call(this)},{"./chrome/background":5,"./chrome/content":6}],5:[function(a,b){(function(){var a;a=function(){function a(){this.createContextMenus()}return a.prototype.createContextMenus=function(){return chrome.contextMenus.onClicked.addListener(function(a,b){var c;return c={method:"quoter.quote"},chrome.tabs.sendMessage(b.id,c,function(){})}),chrome.runtime.onInstalled.addListener(function(){return chrome.contextMenus.create({title:"Quote with Quoter",id:"quoter-quote",contexts:["page","selection"]})})},a}(),b.exports=a}).call(this)},{}],6:[function(a,b){(function(){var c,d;d=a("../../selection"),c=function(){function a(){this.attachMessageListeners()}return a.prototype.attachMessageListeners=function(){return chrome.runtime.onMessage.addListener(function(a,b,c){return new d,"quoter.quote"===a.method?c("asda"):void 0})},a}(),b.exports=c}).call(this)},{"../../selection":8}],7:[function(){(function(){"undefined"!=typeof Node&&(Node.findSharedAncestor=function(a,b){var c,d,e;if(a===b)return a;if(b.contains(a)||a.parentNode===b)return b;if(a.contains(b)||b.parentNode===a)return a;for(d=a,e=b,c=!1;d=d.parentNode;){for(;e=e.parentNode;)if(d===e){c=d;break}if(d===e){c=d;break}e=b}return c},Node.prototype.collectTextNodes=function(){var a,b,c,d,e;for(b=[],e=this.childNodes,c=0,d=e.length;d>c;c++)a=e[c],a.nodeType===a.TEXT_NODE?b.push(a):b=b.concat(a.collectTextNodes());return b})}).call(this)},{}],8:[function(a,b){(function(){var c;a("./node"),c=function(){function a(){this.getSelection(),this.string=this.selection.toString(),this.length=this.string.length,this.openTag='<span style="background-color: green" class="quoter-selected-text">',this.closeTag="</span>",this.ancestorNode=Node.findSharedAncestor(this.anchorNode,this.focusNode),this.textNodes=this.anchorNode===this.focusNode?[this.anchorNode]:this.ancestorNode.collectTextNodes(),this.filterTextNodes(),this.wrapNodes()}return a.prototype.getSelection=function(){var a;return this.selection=document.getSelection(),a=this.selection,this.anchorNode=a.anchorNode,this.anchorOffset=a.anchorOffset,this.baseNode=a.baseNode,this.baseOffset=a.baseOffset,this.focusNode=a.focusNode,this.focusOffset=a.focusOffset,this.focusNode=a.focusNode,this.focusOffset=a.focusOffset,this.isCollapsed=a.isCollapsed,this.rangeCount=a.rangeCount,this.type=a.type,a},a.prototype.filterTextNodes=function(){var a,b,c,d,e;for(b=[],e=this.textNodes,c=0,d=e.length;d>c;c++)a=e[c],this.selection.containsNode(a)&&b.push(a);return this.textNodes=b},a.prototype.wrapNodes=function(){var a,b,c,d,e;if(1===this.textNodes.length)return this.wrapSelectedTextWithinNode(this.anchorNode,this.anchorOffset,this.focusOffset);for(this.wrapSelectedTextWithinNode(this.anchorNode,this.anchorOffset),this.wrapSelectedTextWithinNode(this.focusNode,0,this.focusOffset),d=this.textNodes.slice(1,-1),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(this.wrapSelectedTextWithinNode(a));return e},a.prototype.wrapSelectedTextWithinNode=function(a,b,c){var d,e,f,g;if(null==b&&(b=0),null==c&&(c=!1),g=a.parentElement,!a.textContent.match(/^\s+$/)&&g){for(d=a.textContent.split(""),d.splice(b,0,this.openTag),c?d.splice(c+1,0,this.closeTag):d.push(this.closeTag),f=document.createElement("span"),f.innerHTML=d.join("");f.childNodes.length;)e=f.childNodes[0],g.insertBefore(e,a);return g.removeChild(a)}},a}(),b.exports=c}).call(this)},{"./node":7}]},{},[1]);